<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Changelog - Lucet</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded "><a href="Overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="expanded "><a href="Using-lucet.html"><strong aria-hidden="true">2.</strong> Using Lucet</a></li><li><ol class="section"><li class="expanded "><a href="Compiling.html"><strong aria-hidden="true">2.1.</strong> Compiling Lucet</a></li><li><ol class="section"><li class="expanded "><a href="Compiling-on-Linux.html"><strong aria-hidden="true">2.1.1.</strong> Compiling on Linux</a></li><li class="expanded "><a href="Compiling-on-macOS.html"><strong aria-hidden="true">2.1.2.</strong> Compiling on macOS</a></li></ol></li><li class="expanded "><a href="Your-first-Lucet-application.html"><strong aria-hidden="true">2.2.</strong> Lucet &quot;Hello World&quot;</a></li><li class="expanded "><a href="lucet-runtime-example.html"><strong aria-hidden="true">2.3.</strong> Using the Lucet runtime API from Rust</a></li><li class="expanded "><a href="Integrity-and-authentication.html"><strong aria-hidden="true">2.4.</strong> Module integrity and authentication</a></li></ol></li><li class="expanded "><a href="Lucet-components.html"><strong aria-hidden="true">3.</strong> Lucet components</a></li><li><ol class="section"><li class="expanded "><a href="lucetc.html"><strong aria-hidden="true">3.1.</strong> lucetc</a></li><li class="expanded "><a href="lucet-runtime.html"><strong aria-hidden="true">3.2.</strong> lucet-runtime</a></li><li><ol class="section"><li class="expanded "><a href="lucet-runtime/killswitch.html"><strong aria-hidden="true">3.2.1.</strong> KillSwitch</a></li></ol></li><li class="expanded "><a href="lucet-wasi.html"><strong aria-hidden="true">3.3.</strong> lucet-wasi</a></li><li class="expanded "><a href="lucet-objdump.html"><strong aria-hidden="true">3.4.</strong> lucet-objdump</a></li><li class="expanded "><a href="lucet-spectest.html"><strong aria-hidden="true">3.5.</strong> lucet-spectest</a></li><li class="expanded "><a href="lucet-wasi-sdk.html"><strong aria-hidden="true">3.6.</strong> lucet-wasi-sdk</a></li><li class="expanded "><a href="lucet-module.html"><strong aria-hidden="true">3.7.</strong> lucet-module</a></li><li class="expanded "><a href="Tests-and-benchmarks.html"><strong aria-hidden="true">3.8.</strong> Tests and benchmarks</a></li><li><ol class="section"><li class="expanded "><a href="sightglass.html"><strong aria-hidden="true">3.8.1.</strong> sightglass</a></li></ol></li></ol></li><li class="expanded "><a href="versioning_releasing.html"><strong aria-hidden="true">4.</strong> Versioning and releasing to crates.io</a></li><li class="expanded "><a href="Security.html"><strong aria-hidden="true">5.</strong> Security</a></li><li class="expanded "><a href="CHANGELOG.html" class="active"><strong aria-hidden="true">6.</strong> Changelog</a></li><li class="expanded "><a href="License.html"><strong aria-hidden="true">7.</strong> License</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Lucet</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                            <a href="https://github.com/bytecodealliance/lucet" title="Git repository" aria-label="Git repository">
                                <i id="git-repository-button" class="fa fa-github"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#changelog" id="changelog">Changelog</a></h1>
<h3><a class="header" href="#unreleased" id="unreleased">Unreleased</a></h3>
<ul>
<li>
<p>Added <code>install_lucet_signal_handler()</code> and <code>remove_lucet_signal_handler()</code>, along with <code>Instance::ensure_signal_handler_installed()</code> and <code>Instance::ensure_sigstack_installed()</code> options to control the automatic installation and removal of signal handlers and alternate signal stacks. The default behaviors have not changed.</p>
</li>
<li>
<p>Added <code>Instance::run_start()</code> to the public API, which runs the <a href="https://webassembly.github.io/spec/core/syntax/modules.html#syntax-start">Wasm start function</a> if it is present in that instance's Wasm module. It does nothing if there is no start function.</p>
<p>Creating or resetting an instance no longer implicitly runs the start function. Embedders must ensure that <code>run_start()</code> is called before calling any other exported functions. <code>Instance::run()</code> will now return <code>Err(Error::InstanceNeedsStart)</code> if the start function is present but hasn't been run since the instance was created or reset.</p>
</li>
</ul>
<h3><a class="header" href="#061-2020-02-18" id="061-2020-02-18">0.6.1 (2020-02-18)</a></h3>
<ul>
<li>
<p>Added metadata to compiled modules that record whether instruction counting instrumentation is present.</p>
</li>
<li>
<p>Made <code>lucetc</code> more flexible in its interpretation of the <code>LD</code> environment variable. It now accepts a space-separated set of tokens; the first token specifies the program to invoke, and the remaining tokens specifying arguments to be passed to that program. Thanks, @froydnj!</p>
</li>
<li>
<p>Added public <code>LucetcOpt</code> methods to configure the <code>canonicalize_nans</code> setting. Thanks, @roman-kashitsyn!</p>
</li>
<li>
<p>Fixed <code>lucet-runtime</code>'s use of CPUID to not look for extended features unless required by the module being loaded, avoiding a failure on older CPUs where that CPUID leaf is not present. Thanks, @shravanrn!</p>
</li>
</ul>
<h3><a class="header" href="#060-2020-02-05" id="060-2020-02-05">0.6.0 (2020-02-05)</a></h3>
<ul>
<li>
<p>Added <code>free_slots()</code>, <code>used_slots()</code>, and <code>capacity()</code> methods to the <code>Region</code> trait.</p>
</li>
<li>
<p>Added a check to ensure the <code>Limits</code> signal stack size is at least <code>MINSIGSTKSZ</code>, and increased the default signal stack size on macOS debug builds to fit this constraint.</p>
</li>
<li>
<p>Added an option to canonicalize NaNs to the <code>lucetc</code> API. Thanks, @DavidM-D!</p>
</li>
<li>
<p>Restored some of the verbosity of pretty-printed errors in <code>lucetc</code> and <code>lucet-validate</code>, with more on the way.</p>
</li>
<li>
<p>Fixed OS detection for LDFLAGS on macOS. Thanks, @roman-kashitsyn!</p>
</li>
</ul>
<h3><a class="header" href="#051-2020-01-24" id="051-2020-01-24">0.5.1 (2020-01-24)</a></h3>
<ul>
<li>Fixed a memory corruption bug that could arise in certain runtime configurations. (<a href="https://github.com/bytecodealliance/lucet/pull/401">PR</a>) (<a href="https://rustsec.org/advisories/RUSTSEC-2020-0004.html">RustSec advisory</a>)</li>
</ul>
<h3><a class="header" href="#050-2020-01-24" id="050-2020-01-24">0.5.0 (2020-01-24)</a></h3>
<ul>
<li>
<p>Lucet officially became a project of the <a href="https://bytecodealliance.org/">Bytecode Alliance</a> 🎉.</p>
</li>
<li>
<p>Integrated <code>wasi-common</code> as the underlying implementation for WASI in <code>lucet-wasi</code>.</p>
</li>
<li>
<p>Updated to Cranelift to version 0.51.0.</p>
</li>
<li>
<p>Fixed a soundness bug by changing the types of the <code>Vmctx::yield*()</code> methods to require exclusive <code>&amp;mut self</code> access to the <code>Vmctx</code>. This prevents resources like embedder contexts or heap views
from living across yield points, which is important for safety since the host can modify the data underlying those resources while the instance is suspended.</p>
</li>
<li>
<p>Added the <code>#[lucet_hostcall]</code> attribute to replace <code>lucet_hostcalls!</code>, which is now deprecated.</p>
</li>
<li>
<p>Added the ability to specify an alignment for the base of a <code>MmapRegion</code>-backed instance's heap. Thanks, @shravanrn!</p>
</li>
<li>
<p>Added a <code>--target</code> option to <code>lucetc</code> to allow cross-compilation to other architectures than the host's. Thanks, @froydnj!</p>
</li>
<li>
<p>Changed the Cargo dependencies between Lucet crates to be exact (e.g., <code>&quot;=0.5.0&quot;</code> rather than <code>&quot;0.5.0&quot;</code>) rather than allowing semver differences.</p>
</li>
<li>
<p>Fixed the <code>KillSwitch</code> type not being exported from the public API, despite being usable via <code>Instance::kill_switch()</code>.</p>
</li>
<li>
<p>Improved the formatting of error messages.</p>
</li>
<li>
<p>Ensured the <code>lucet-wasi</code> executable properly links in the exported symbols from <code>lucet-runtime</code>.</p>
</li>
</ul>
<h3><a class="header" href="#043-2020-01-24" id="043-2020-01-24">0.4.3 (2020-01-24)</a></h3>
<ul>
<li>Backported the fix for a memory corruption bug that could arise in certain runtime configurations. (<a href="https://github.com/bytecodealliance/lucet/pull/401">PR</a>) (<a href="https://rustsec.org/advisories/RUSTSEC-2020-0004.html">RustSec advisory</a>)</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="Security.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="License.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="Security.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="License.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
